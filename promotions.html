<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Khuy·∫øn m√£i - Head Kim Ch√¢u</title>
    <meta
      name="description"
      content="Khuy·∫øn m√£i m·ªõi nh·∫•t t·ª´ Head Kim Ch√¢u - Gi·∫£m gi√° xe Honda, t·∫∑ng ph·ª• ki·ªán, h·ªó tr·ª£ tr·∫£ g√≥p 0% l√£i su·∫•t."
    />
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <!-- Header -->
    <div id="header-container"></div>

    <!-- Main Content -->
    <main>
      <!-- Page Header -->
      <section class="section section-gray">
        <div class="container">
          <div class="text-center">
            <h1
              style="
                font-size: 2.5rem;
                font-weight: bold;
                margin-bottom: 16px;
                color: var(--gray-900);
              "
            >
              Khuy·∫øn m√£i Honda
            </h1>
            <p
              style="
                font-size: 1.125rem;
                color: var(--gray-600);
                max-width: 600px;
                margin: 0 auto;
              "
            >
              ƒê·ª´ng b·ªè l·ª° c√°c ch∆∞∆°ng tr√¨nh khuy·∫øn m√£i h·∫•p d·∫´n t·ª´ Head Kim Ch√¢u -
              ƒê·∫°i l√Ω Honda uy t√≠n.
            </p>
          </div>
        </div>
      </section>

      <!-- Promotions Grid -->
      <section class="section">
        <div class="container">
          <div id="promotionsContainer" class="grid grid-2">
            <!-- Promotions will be loaded here by JavaScript -->
          </div>
        </div>
      </section>

      <!-- Promotion Terms -->
      <section class="section section-gray">
        <div class="container">
          <div class="section-header">
            <h2>ƒêi·ªÅu ki·ªán ch∆∞∆°ng tr√¨nh</h2>
          </div>

          <div class="card">
            <div class="card-content">
              <div
                style="
                  display: grid;
                  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                  gap: 32px;
                "
              >
                <div>
                  <h3
                    style="
                      color: var(--honda-red);
                      margin-bottom: 16px;
                      font-size: 18px;
                      font-weight: 600;
                    "
                  >
                    üìã ƒêi·ªÅu ki·ªán chung
                  </h3>
                  <ul style="color: var(--gray-600); line-height: 1.6">
                    <li style="margin-bottom: 8px">
                      √Åp d·ª•ng cho kh√°ch h√†ng mua xe t·∫°i Head Kim Ch√¢u
                    </li>
                    <li style="margin-bottom: 8px">
                      C√≥ gi·∫•y t·ªù t√πy th√¢n h·ª£p l·ªá
                    </li>
                    <li style="margin-bottom: 8px">
                      Thanh to√°n ƒë·ªß theo quy ƒë·ªãnh
                    </li>
                    <li style="margin-bottom: 8px">
                      Kh√¥ng √°p d·ª•ng ƒë·ªìng th·ªùi nhi·ªÅu ch∆∞∆°ng tr√¨nh
                    </li>
                  </ul>
                </div>

                <div>
                  <h3
                    style="
                      color: var(--honda-red);
                      margin-bottom: 16px;
                      font-size: 18px;
                      font-weight: 600;
                    "
                  >
                    üéÅ ∆Øu ƒë√£i tr·∫£ g√≥p
                  </h3>
                  <ul style="color: var(--gray-600); line-height: 1.6">
                    <li style="margin-bottom: 8px">
                      L√£i su·∫•t ∆∞u ƒë√£i 0% - 6 th√°ng ƒë·∫ßu
                    </li>
                    <li style="margin-bottom: 8px">
                      Th·ªß t·ª•c nhanh g·ªçn trong 30 ph√∫t
                    </li>
                    <li style="margin-bottom: 8px">
                      Kh√¥ng c·∫ßn t√†i s·∫£n ƒë·∫£m b·∫£o
                    </li>
                    <li style="margin-bottom: 8px">Duy·ªát h·ªì s∆° nhanh ch√≥ng</li>
                  </ul>
                </div>

                <div>
                  <h3
                    style="
                      color: var(--honda-red);
                      margin-bottom: 16px;
                      font-size: 18px;
                      font-weight: 600;
                    "
                  >
                    üõ°Ô∏è B·∫£o h√†nh m·ªü r·ªông
                  </h3>
                  <ul style="color: var(--gray-600); line-height: 1.6">
                    <li style="margin-bottom: 8px">
                      B·∫£o h√†nh ch√≠nh h√£ng Honda 3 nƒÉm
                    </li>
                    <li style="margin-bottom: 8px">
                      B·∫£o d∆∞·ª°ng mi·ªÖn ph√≠ 6 th√°ng ƒë·∫ßu
                    </li>
                    <li style="margin-bottom: 8px">
                      H·ªó tr·ª£ 24/7 tr√™n to√†n qu·ªëc
                    </li>
                    <li style="margin-bottom: 8px">ƒê·ªïi ph·ª• t√πng ch√≠nh h√£ng</li>
                  </ul>
                </div>

                <div>
                  <h3
                    style="
                      color: var(--honda-red);
                      margin-bottom: 16px;
                      font-size: 18px;
                      font-weight: 600;
                    "
                  >
                    üìû Li√™n h·ªá ngay
                  </h3>
                  <div style="color: var(--gray-600); line-height: 1.6">
                    <p style="margin-bottom: 8px">
                      <strong>Hotline:</strong> 0901 234 567
                    </p>
                    <p style="margin-bottom: 8px">
                      <strong>Email:</strong> info@headkimchau.com
                    </p>
                    <p style="margin-bottom: 8px">
                      <strong>ƒê·ªãa ch·ªâ:</strong> 123 Nguy·ªÖn VƒÉn Linh, Q7, TP.HCM
                    </p>
                    <p style="margin-bottom: 16px">
                      <strong>Gi·ªù l√†m vi·ªác:</strong> 8:00 - 18:00 (T2-CN)
                    </p>
                    <a href="contact.html" class="btn btn-primary btn-sm"
                      >Li√™n h·ªá t∆∞ v·∫•n</a
                    >
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Newsletter Signup -->
      <section class="section section-red">
        <div class="container">
          <div class="text-center">
            <h2>ƒêƒÉng k√Ω nh·∫≠n th√¥ng tin khuy·∫øn m√£i</h2>
            <p
              style="
                color: rgba(255, 255, 255, 0.9);
                font-size: 1.125rem;
                margin-bottom: 32px;
              "
            >
              Nh·∫≠n th√¥ng tin khuy·∫øn m√£i m·ªõi nh·∫•t qua email c·ªßa b·∫°n
            </p>

            <div style="max-width: 400px; margin: 0 auto">
              <form id="newsletterForm" style="display: flex; gap: 12px">
                <input
                  type="email"
                  id="newsletterEmail"
                  name="email"
                  placeholder="Nh·∫≠p email c·ªßa b·∫°n"
                  required
                  style="
                    flex: 1;
                    padding: 12px 16px;
                    border: none;
                    border-radius: 6px;
                    font-size: 14px;
                  "
                />
                <button
                  type="submit"
                  class="btn btn-lg"
                  style="
                    background: white;
                    color: var(--honda-red);
                    border: none;
                  "
                >
                  ƒêƒÉng k√Ω
                </button>
              </form>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <div id="footer-container"></div>

    <!-- Scripts -->
    <script src="mock/data.js"></script>
    <script src="js/main.js"></script>
    <script>
      // Load header and footer
      fetch("components/header.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("header-container").innerHTML = data;
        });

      fetch("components/footer.html")
        .then((response) => response.text())
        .then((data) => {
          document.getElementById("footer-container").innerHTML = data;
        });

      // Initialize promotions page
      function initPromotionsPage() {
        loadPromotions();
        setupNewsletterForm();
      }

      function loadPromotions() {
        const container = document.getElementById("promotionsContainer");
        const promotions = MockData.mockPromotions;

        container.innerHTML = promotions
          .map((promotion) => {
            const isActive = promotion.active;
            const isExpired = new Date(promotion.validUntil) < new Date();

            return `
            <div class="card fade-in ${isExpired ? "opacity: 0.6;" : ""}">
              <div style="position: relative;">
                <img src="${promotion.image}" alt="${promotion.title}" style="width: 100%; height: 200px; object-fit: cover;">
                <div style="position: absolute; top: 16px; left: 16px; background: ${isExpired ? "#6b7280" : "#10b981"}; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 500;">
                  ${isExpired ? "ƒê√£ h·∫øt h·∫°n" : "Khuy·∫øn m√£i"}
                </div>
                ${
                  !isExpired
                    ? `
                  <div style="position: absolute; top: 16px; right: 16px; background: var(--honda-red); color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px; font-weight: 500;">
                    HOT
                  </div>
                `
                    : ""
                }
              </div>
              <div class="card-header">
                <h3 style="font-size: 20px; font-weight: 600; margin-bottom: 8px;">${promotion.title}</h3>
                <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 16px;">
                  <span style="font-size: 18px; font-weight: 600; color: var(--honda-red);">${promotion.discount}</span>
                  <div style="display: flex; align-items: center; color: ${isExpired ? "var(--gray-400)" : "var(--gray-500)"}; font-size: 14px;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="margin-right: 4px;">
                      <circle cx="12" cy="12" r="10"/>
                      <polyline points="12,6 12,12 16,14"/>
                    </svg>
                    ${isExpired ? "ƒê√£ h·∫øt h·∫°n" : `ƒê·∫øn ${promotion.validUntil}`}
                  </div>
                </div>
              </div>
              <div class="card-content">
                <p style="color: var(--gray-600); margin-bottom: 16px; line-height: 1.5;">${promotion.description}</p>
                <div style="display: flex; gap: 8px;">
                  <button
                    onclick="contactForPromotion('${promotion.title}')"
                    class="btn btn-primary btn-sm flex-1"
                    ${isExpired ? 'disabled style="opacity: 0.5; cursor: not-allowed;"' : ""}
                  >
                    ${isExpired ? "ƒê√£ h·∫øt h·∫°n" : "Li√™n h·ªá ngay"}
                  </button>
                  <button onclick="sharePromotion('${promotion.title}', '${promotion.description}')" class="btn btn-outline btn-sm">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <circle cx="18" cy="5" r="3"/>
                      <circle cx="6" cy="12" r="3"/>
                      <circle cx="18" cy="19" r="3"/>
                      <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"/>
                      <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"/>
                    </svg>
                  </button>
                </div>
              </div>
            </div>
          `;
          })
          .join("");
      }

      function contactForPromotion(promotionTitle) {
        alert(
          `C·∫£m ∆°n b·∫°n ƒë√£ quan t√¢m ƒë·∫øn ch∆∞∆°ng tr√¨nh "${promotionTitle}"! Vui l√≤ng li√™n h·ªá 0901 234 567 ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n chi ti·∫øt.`,
        );
      }

      function sharePromotion(title, description) {
        if (navigator.share) {
          navigator.share({
            title: title,
            text: description,
            url: window.location.href,
          });
        } else {
          // Fallback - copy to clipboard
          const text = `${title}\n${description}\n${window.location.href}`;
          navigator.clipboard.writeText(text).then(() => {
            Honda.showAlert(
              "ƒê√£ sao ch√©p link khuy·∫øn m√£i v√†o clipboard!",
              "success",
            );
          });
        }
      }

      function setupNewsletterForm() {
        const form = document.getElementById("newsletterForm");

        Honda.handleFormSubmit(form, async (formData) => {
          const email = formData.get("email");

          if (!Honda.validateEmail(email)) {
            return {
              success: false,
              message: "Email kh√¥ng h·ª£p l·ªá",
            };
          }

          // Simulate newsletter signup
          return new Promise((resolve) => {
            setTimeout(() => {
              // Save to localStorage
              const subscribers = Honda.getStorageData(
                "newsletter_subscribers",
                [],
              );
              if (!subscribers.includes(email)) {
                subscribers.push(email);
                Honda.setStorageData("newsletter_subscribers", subscribers);
              }

              form.reset();

              resolve({
                success: true,
                message:
                  "ƒêƒÉng k√Ω th√†nh c√¥ng! B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c th√¥ng tin khuy·∫øn m√£i qua email.",
              });
            }, 1000);
          });
        });
      }

      // Initialize page when DOM is loaded
      document.addEventListener("DOMContentLoaded", initPromotionsPage);
    </script>
  </body>
</html>
