<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat Há»— Trá»£ - Head Kim ChÃ¢u</title>
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body style="margin: 0; padding: 0; height: 100vh; font-family: system-ui">
    <div
      style="
        height: 100vh;
        display: flex;
        flex-direction: column;
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      "
    >
      <!-- Chat Header -->
      <div
        style="
          background: var(--honda-red);
          color: white;
          padding: 16px 20px;
          display: flex;
          align-items: center;
          gap: 12px;
          box-shadow: 0 2px 10px rgba(230, 0, 18, 0.2);
        "
      >
        <div
          style="
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
          "
        >
          ğŸ¤–
        </div>
        <div>
          <h3 style="margin: 0; font-size: 16px; font-weight: 600">
            Honda Assistant
          </h3>
          <p style="margin: 0; font-size: 12px; opacity: 0.9">
            ğŸŸ¢ Online â€¢ Pháº£n há»“i ngay láº­p tá»©c
          </p>
        </div>
        <div style="margin-left: auto">
          <button
            onclick="window.close()"
            style="
              background: none;
              border: none;
              color: white;
              font-size: 20px;
              cursor: pointer;
              opacity: 0.8;
              transition: opacity 0.2s;
            "
            onmouseover="this.style.opacity='1'"
            onmouseout="this.style.opacity='0.8'"
          >
            âœ•
          </button>
        </div>
      </div>

      <!-- Chat Messages -->
      <div
        id="chatMessages"
        style="
          flex: 1;
          overflow-y: auto;
          padding: 20px;
          display: flex;
          flex-direction: column;
          gap: 16px;
        "
      >
        <!-- Initial bot message -->
        <div style="display: flex; align-items: flex-start; gap: 12px">
          <div
            style="
              width: 32px;
              height: 32px;
              background: var(--honda-red);
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-size: 16px;
              flex-shrink: 0;
            "
          >
            ğŸ¤–
          </div>
          <div
            style="
              background: white;
              padding: 12px 16px;
              border-radius: 18px;
              border-bottom-left-radius: 4px;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
              max-width: 80%;
              animation: slideInLeft 0.5s ease-out;
            "
          >
            <p style="margin: 0; line-height: 1.4">
              ğŸ‘‹ Xin chÃ o! TÃ´i lÃ  Honda Assistant. TÃ´i cÃ³ thá»ƒ giÃºp báº¡n:
            </p>
            <ul style="margin: 8px 0 0 0; padding-left: 16px; font-size: 14px">
              <li>ğŸï¸ TÆ° váº¥n sáº£n pháº©m Honda</li>
              <li>ğŸ“… Äáº·t lá»‹ch xem xe</li>
              <li>ğŸ”§ Äáº·t lá»‹ch báº£o dÆ°á»¡ng</li>
              <li>ğŸ’° TÃ­nh toÃ¡n tráº£ gÃ³p</li>
              <li>ğŸ“ Káº¿t ná»‘i vá»›i tÆ° váº¥n viÃªn</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div
        style="
          padding: 16px 20px;
          border-top: 1px solid #e2e8f0;
          background: white;
        "
      >
        <p
          style="
            margin: 0 0 12px 0;
            font-size: 14px;
            color: #64748b;
            font-weight: 500;
          "
        >
          ğŸš€ Thao tÃ¡c nhanh:
        </p>
        <div
          style="
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 16px;
          "
        >
          <button
            onclick="quickAction('test-drive')"
            style="
              padding: 8px 12px;
              background: var(--honda-red);
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 12px;
              cursor: pointer;
              transition: all 0.2s;
            "
            onmouseover="this.style.transform='scale(1.02)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            ğŸï¸ Xem xe
          </button>
          <button
            onclick="quickAction('service')"
            style="
              padding: 8px 12px;
              background: #10b981;
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 12px;
              cursor: pointer;
              transition: all 0.2s;
            "
            onmouseover="this.style.transform='scale(1.02)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            ğŸ”§ Báº£o dÆ°á»¡ng
          </button>
          <button
            onclick="quickAction('finance')"
            style="
              padding: 8px 12px;
              background: #f59e0b;
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 12px;
              cursor: pointer;
              transition: all 0.2s;
            "
            onmouseover="this.style.transform='scale(1.02)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            ğŸ’° Tráº£ gÃ³p
          </button>
          <button
            onclick="quickAction('contact')"
            style="
              padding: 8px 12px;
              background: #6366f1;
              color: white;
              border: none;
              border-radius: 8px;
              font-size: 12px;
              cursor: pointer;
              transition: all 0.2s;
            "
            onmouseover="this.style.transform='scale(1.02)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            ğŸ“ TÆ° váº¥n
          </button>
        </div>
      </div>

      <!-- Chat Input -->
      <div
        style="
          padding: 16px 20px;
          background: white;
          border-top: 1px solid #e2e8f0;
        "
      >
        <div style="display: flex; gap: 12px; align-items: flex-end">
          <div style="flex: 1; position: relative">
            <textarea
              id="chatInput"
              placeholder="Nháº­p tin nháº¯n cá»§a báº¡n..."
              style="
                width: 100%;
                border: 2px solid #e2e8f0;
                border-radius: 12px;
                padding: 12px 16px;
                resize: none;
                font-family: inherit;
                font-size: 14px;
                line-height: 1.4;
                max-height: 100px;
                transition: border-color 0.2s;
              "
              rows="1"
              onkeydown="handleKeyDown(event)"
              oninput="autoResize(this)"
              onfocus="this.style.borderColor='var(--honda-red)'"
              onblur="this.style.borderColor='#e2e8f0'"
            ></textarea>
          </div>
          <button
            id="sendButton"
            onclick="sendMessage()"
            style="
              background: var(--honda-red);
              color: white;
              border: none;
              border-radius: 50%;
              width: 44px;
              height: 44px;
              display: flex;
              align-items: center;
              justify-content: center;
              cursor: pointer;
              transition: all 0.2s;
              font-size: 16px;
            "
            onmouseover="this.style.transform='scale(1.1)'"
            onmouseout="this.style.transform='scale(1)'"
          >
            ğŸ“¤
          </button>
        </div>
        <p
          style="
            margin: 8px 0 0 0;
            font-size: 11px;
            color: #94a3b8;
            text-align: center;
          "
        >
          Nháº¥n Enter Ä‘á»ƒ gá»­i â€¢ Shift + Enter Ä‘á»ƒ xuá»‘ng dÃ²ng
        </p>
      </div>
    </div>

    <script>
      // Chat functionality
      let chatHistory = [];
      let isTyping = false;

      const chatResponses = {
        greetings: [
          "Xin chÃ o! TÃ´i cÃ³ thá»ƒ há»— trá»£ gÃ¬ cho báº¡n vá» Honda hÃ´m nay? ğŸ˜Š",
          "ChÃ o báº¡n! Báº¡n quan tÃ¢m Ä‘áº¿n sáº£n pháº©m Honda nÃ o khÃ´ng? ğŸï¸",
          "Hi! TÃ´i sáºµn sÃ ng há»— trá»£ báº¡n tÃ¬m hiá»ƒu vá» xe Honda! ğŸ‘‹",
        ],
        products: [
          "ğŸï¸ Honda cÃ³ nhiá»u dÃ²ng xe tuyá»‡t vá»i! Báº¡n quan tÃ¢m Ä‘áº¿n:\nâ€¢ Xe tay ga: SH, Air Blade, Vision, Lead\nâ€¢ Xe sá»‘: Wave Alpha, Future\nâ€¢ Loáº¡i nÃ o báº¡n thÃ­ch nháº¥t?",
          "ChÃºng tÃ´i cÃ³ Ä‘áº§y Ä‘á»§ cÃ¡c dÃ²ng Honda tá»« 18-86 triá»‡u! Báº¡n cÃ³ khoáº£ng ngÃ¢n sÃ¡ch nÃ o Ä‘á»ƒ tÃ´i tÆ° váº¥n phÃ¹ há»£p khÃ´ng? ğŸ’°",
        ],
        testDrive: [
          "ğŸ“… Tuyá»‡t vá»i! Äá»ƒ Ä‘ï¿½ï¿½t lá»‹ch lÃ¡i thá»­, tÃ´i cáº§n:\nâ€¢ TÃªn cá»§a báº¡n\nâ€¢ Sá»‘ Ä‘iá»‡n thoáº¡i\nâ€¢ Sáº£n pháº©m muá»‘n lÃ¡i thá»­\nâ€¢ NgÃ y giá» mong muá»‘n\n\nBáº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t thÃ´ng tin nÃ y khÃ´ng?",
          "ğŸï¸ LÃ¡i thá»­ lÃ  cÃ¡ch tá»‘t nháº¥t Ä‘á»ƒ tráº£i nghiá»‡m Honda! Báº¡n muá»‘n lÃ¡i thá»­ xe nÃ o? TÃ´i sáº½ sáº¯p xáº¿p cho báº¡n ngay!",
        ],
        service: [
          "ğŸ”§ ChÃºng tÃ´i cÃ³ Ä‘áº§y Ä‘á»§ dá»‹ch vá»¥ báº£o dÆ°á»¡ng Honda:\nâ€¢ Báº£o dÆ°á»¡ng Ä‘á»‹nh ká»³\nâ€¢ Thay nhá»›t mÃ¡y\nâ€¢ Sá»­a chá»¯a phanh\nâ€¢ Thay lá»‘p xe\n\nBáº¡n cáº§n dá»‹ch vá»¥ nÃ o?",
          "Äá»™i ngÅ© ká»¹ thuáº­t viÃªn Honda chuyÃªn nghiá»‡p sáºµn sÃ ng chÄƒm sÃ³c xe cá»§a báº¡n! Xe báº¡n cáº§n báº£o dÆ°á»¡ng gÃ¬? ğŸ› ï¸",
        ],
        finance: [
          "ğŸ’³ Honda há»— trá»£ tráº£ gÃ³p linh hoáº¡t:\nâ€¢ LÃ£i suáº¥t tá»« 0-8%/nÄƒm\nâ€¢ Thá»i háº¡n: 6-36 thÃ¡ng\nâ€¢ Thá»§ tá»¥c nhanh chÃ³ng\nâ€¢ Duyá»‡t trong 30 phÃºt\n\nBáº¡n quan tÃ¢m xe nÃ o Ä‘á»ƒ tÃ´i tÃ­nh toÃ¡n?",
          "Tráº£ gÃ³p Honda ráº¥t dá»… dÃ ng! Chá»‰ cáº§n CMND + báº±ng lÃ¡i. Báº¡n muá»‘n tÃ­nh tráº£ gÃ³p cho xe nÃ o? ğŸ¦",
        ],
        contact: [
          "ğŸ“ Báº¡n cÃ³ thá»ƒ liÃªn há»‡ trá»±c tiáº¿p:\nâ€¢ Hotline: 0901 234 567\nâ€¢ Äá»‹a chá»‰: 123 Nguyá»…n VÄƒn Linh, Q7, HCM\nâ€¢ Email: info@headkimchau.com\n\nHoáº·c tÃ´i cÃ³ thá»ƒ káº¿t ná»‘i báº¡n vá»›i tÆ° váº¥n viÃªn ngay?",
          "TÃ´i sáº½ káº¿t ná»‘i báº¡n vá»›i chuyÃªn viÃªn tÆ° váº¥n Honda! Há» sáº½ gá»i láº¡i trong 5 phÃºt. Báº¡n cho tÃ´i sá»‘ Ä‘iá»‡n thoáº¡i Ä‘Æ°á»£c khÃ´ng? ğŸ“±",
        ],
        default: [
          "TÃ´i hiá»ƒu báº¡n quan tÃ¢m Ä‘áº¿n Honda! Báº¡n cÃ³ thá»ƒ nÃ³i rÃµ hÆ¡n Ä‘á»ƒ tÃ´i há»— trá»£ tá»‘t nháº¥t khÃ´ng? ğŸ¤”",
          "Hmm, tÃ´i chÆ°a hiá»ƒu rÃµ. Báº¡n cÃ³ thá»ƒ chá»n má»™t trong cÃ¡c thao tÃ¡c nhanh bÃªn dÆ°á»›i khÃ´ng? ğŸ‘‡",
          "Äá»ƒ há»— trá»£ báº¡n tá»‘t nháº¥t, báº¡n cÃ³ thá»ƒ cho tÃ´i biáº¿t báº¡n cáº§n:\nâ€¢ TÆ° váº¥n sáº£n pháº©m\nâ€¢ Äáº·t lá»‹ch lÃ¡i thá»­\nâ€¢ Dá»‹ch vá»¥ báº£o dÆ°á»¡ng\nâ€¢ TÃ­nh toÃ¡n trÃ  gÃ³p? ğŸ¯",
        ],
      };

      function handleKeyDown(event) {
        if (event.key === "Enter" && !event.shiftKey) {
          event.preventDefault();
          sendMessage();
        }
      }

      function autoResize(textarea) {
        textarea.style.height = "auto";
        textarea.style.height = textarea.scrollHeight + "px";
      }

      function sendMessage() {
        const input = document.getElementById("chatInput");
        const message = input.value.trim();

        if (!message) return;

        // Add user message
        addMessage(message, "user");
        input.value = "";
        input.style.height = "auto";

        // Simulate typing
        showTyping();

        // Generate bot response
        setTimeout(
          () => {
            hideTyping();
            const response = generateResponse(message);
            addMessage(response, "bot");
          },
          1000 + Math.random() * 1000,
        );
      }

      function addMessage(text, sender) {
        const messagesContainer = document.getElementById("chatMessages");
        const messageDiv = document.createElement("div");

        if (sender === "user") {
          messageDiv.innerHTML = `
            <div style="display: flex; justify-content: flex-end; margin-bottom: 16px;">
              <div style="
                background: var(--honda-red);
                color: white;
                padding: 12px 16px;
                border-radius: 18px;
                border-bottom-right-radius: 4px;
                max-width: 80%;
                box-shadow: 0 2px 8px rgba(230, 0, 18, 0.2);
                animation: slideInRight 0.3s ease-out;
              ">
                <p style="margin: 0; line-height: 1.4;">${text}</p>
              </div>
            </div>
          `;
        } else {
          messageDiv.innerHTML = `
            <div style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px;">
              <div style="
                width: 32px;
                height: 32px;
                background: var(--honda-red);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                color: white;
                font-size: 16px;
                flex-shrink: 0;
              ">ğŸ¤–</div>
              <div style="
                background: white;
                padding: 12px 16px;
                border-radius: 18px;
                border-bottom-left-radius: 4px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
                max-width: 80%;
                animation: slideInLeft 0.3s ease-out;
              ">
                <p style="margin: 0; line-height: 1.4; white-space: pre-line;">${text}</p>
              </div>
            </div>
          `;
        }

        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;

        // Save to history
        chatHistory.push({ text, sender, timestamp: Date.now() });
      }

      function showTyping() {
        const messagesContainer = document.getElementById("chatMessages");
        const typingDiv = document.createElement("div");
        typingDiv.id = "typing";
        typingDiv.innerHTML = `
          <div style="display: flex; align-items: flex-start; gap: 12px; margin-bottom: 16px;">
            <div style="
              width: 32px;
              height: 32px;
              background: var(--honda-red);
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              color: white;
              font-size: 16px;
              flex-shrink: 0;
            ">ğŸ¤–</div>
            <div style="
              background: white;
              padding: 12px 16px;
              border-radius: 18px;
              border-bottom-left-radius: 4px;
              box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            ">
              <div style="display: flex; gap: 4px; align-items: center;">
                <div style="width: 8px; height: 8px; background: #94a3b8; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out;"></div>
                <div style="width: 8px; height: 8px; background: #94a3b8; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out 0.2s;"></div>
                <div style="width: 8px; height: 8px; background: #94a3b8; border-radius: 50%; animation: bounce 1.4s infinite ease-in-out 0.4s;"></div>
              </div>
            </div>
          </div>
        `;

        messagesContainer.appendChild(typingDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
        isTyping = true;
      }

      function hideTyping() {
        const typingDiv = document.getElementById("typing");
        if (typingDiv) {
          typingDiv.remove();
        }
        isTyping = false;
      }

      function generateResponse(message) {
        const msg = message.toLowerCase();

        // Detect intent
        if (
          msg.includes("xin chÃ o") ||
          msg.includes("hello") ||
          msg.includes("hi") ||
          msg.includes("chÃ o")
        ) {
          return getRandomResponse("greetings");
        }

        if (
          msg.includes("lÃ¡i thá»­") ||
          msg.includes("test drive") ||
          msg.includes("thá»­ xe")
        ) {
          return getRandomResponse("testDrive");
        }

        if (
          msg.includes("báº£o dÆ°á»¡ng") ||
          msg.includes("sá»­a chá»¯a") ||
          msg.includes("service") ||
          msg.includes("thay nhá»›t")
        ) {
          return getRandomResponse("service");
        }

        if (
          msg.includes("tráº£ gÃ³p") ||
          msg.includes("vay") ||
          msg.includes("tÃ i chÃ­nh") ||
          msg.includes("finance")
        ) {
          return getRandomResponse("finance");
        }

        if (
          msg.includes("liÃªn há»‡") ||
          msg.includes("tÆ° váº¥n") ||
          msg.includes("gá»i") ||
          msg.includes("contact")
        ) {
          return getRandomResponse("contact");
        }

        if (
          msg.includes("sáº£n pháº©m") ||
          msg.includes("xe") ||
          msg.includes("honda") ||
          msg.includes("giÃ¡") ||
          msg.includes("sh") ||
          msg.includes("air blade") ||
          msg.includes("vision") ||
          msg.includes("wave")
        ) {
          return getRandomResponse("products");
        }

        return getRandomResponse("default");
      }

      function getRandomResponse(category) {
        const responses = chatResponses[category] || chatResponses.default;
        return responses[Math.floor(Math.random() * responses.length)];
      }

      function quickAction(action) {
        let message = "";
        switch (action) {
          case "test-drive":
            message = "TÃ´i muá»‘n Ä‘áº·t lá»‹ch lÃ¡i thá»­ xe Honda";
            break;
          case "service":
            message = "TÃ´i cáº§n Ä‘áº·t lá»‹ch báº£o dÆ°á»¡ng xe";
            break;
          case "finance":
            message = "TÃ´i muá»‘n tÃ¬m hiá»ƒu vá» tráº£ gÃ³p";
            break;
          case "contact":
            message = "TÃ´i muá»‘n liÃªn há»‡ vá»›i tÆ° váº¥n viÃªn";
            break;
        }

        document.getElementById("chatInput").value = message;
        sendMessage();
      }

      // Initialize chat
      document.addEventListener("DOMContentLoaded", function () {
        // Focus on input
        document.getElementById("chatInput").focus();

        // Add welcome message after a short delay
        setTimeout(() => {
          addMessage(
            "Báº¡n cÃ³ thá»ƒ báº¯t Ä‘áº§u báº±ng cÃ¡ch nháº­p tin nháº¯n hoáº·c chá»n thao tÃ¡c nhanh bÃªn dÆ°á»›i! ğŸ˜Š",
            "bot",
          );
        }, 500);
      });

      // Add CSS animations
      const style = document.createElement("style");
      style.textContent = `
        @keyframes slideInLeft {
          from {
            opacity: 0;
            transform: translateX(-20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(20px);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes bounce {
          0%, 80%, 100% {
            transform: scale(0);
          }
          40% {
            transform: scale(1);
          }
        }
      `;
      document.head.appendChild(style);
    </script>
  </body>
</html>
